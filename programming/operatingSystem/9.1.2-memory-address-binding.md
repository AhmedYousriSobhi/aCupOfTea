# Operating System - Memory - Address Binding

In Main memory, chapter 9.1.2 Address Binding, from Operating System concepts 10th edition reference,

Address Binding is a concept in OS, particularly in the context of memory management.

**Overview**

Address binding refers to the process of mapping a program's logical address to physical addresses in the memory. 

**Stages of Address Binding**
1. ***Compile Time***
   - if the memory location of a process is known at compile time, *absolute code* is generated.
   - The logical and physical addresses are fixed, which means the process must always be loaded at the same location.
   - If the starting location changes, then it'll be necessary to recompile the code again.
   - E.g, embedded systems often uses compile-time binding because they have fixed memory layouts.
2. ***Load Time***
    - If the memory location is not known at compile time, the compiler generate *relocatable code*.
    - The final binding occurs when the program is loaded into memory.
    - If the starting address changes, the code must be reloaded and relocated.
3. ***Execution Time***
   - The most flexible binding occurs at execution time, allowing processes to move in the memory.
   - This is used in systems that support virtual memory.
   - The addresses are bound dynamically using hardware support (e.g., Memory Management unit or MMU).

![multi-step processing of a user program](https://i.postimg.cc/V6PLbQj7/Screenshot-from-2024-05-26-21-22-40.png)

**Address Space**
- ***Logical address space***: the set of addresses generated by the CPU during execution.
- ***Physical address space***: the set of addresses seen by the memory unit (RAM).
- The logical address is translated to a physical address by the address binding process. This translation can be static (compile/load time) or dynamic (execution time).

**Dynamic Address Binding**

Dynamic binding involves:
- ***Base register***: holds the starting physical address of the process.
- ***Limit register***: specifies the range of logical addresses.

When a logical address is generated by the CPU, it's checked against the limit register to ensure it is within bounds. If it's valid, the address is added to the base register to form the physical address.

**Example Scenario**

Imagine a program that needs to be executed. Here’s how address binding might occur at different stages:

- ***Compile Time***:
   - The compiler generates addresses assuming the program will start at a specific memory location (e.g., address 1000).
   - If it’s loaded at address 1000, no further binding is needed.

- ***Load Time***:
   - The program is compiled with relocatable addresses.
   - When the loader places the program in memory at address 2000, it adjusts the addresses accordingly.

- ***Execution Time***:
   - The program is loaded into memory, and the base register is set to 3000.
   - If the program generates a logical address 40, the MMU translates this to the physical address 3040 using the base register.

**Benefits and Challenges**
- Compile-Time Binding: Simple but inflexible, as it requires the program to always load at the same location.
- Load-Time Binding: More flexible but requires relocation each time the program is loaded.
- Execution-Time Binding: Highly flexible, supports dynamic memory allocation and virtual memory, but requires sophisticated hardware support.